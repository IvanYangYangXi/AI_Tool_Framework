# Blender网格优化工具

## 描述
这是一个专业的Blender网格优化插件，基于DCC工具框架标准接口开发。该工具提供全面的网格优化功能，包括网格简化、重复几何体删除、法线重计算等。

## 功能特性

### 核心功能
- **网格简化**: 通过decimate修改器减少网格复杂度
- **重复顶点删除**: 合并距离接近的顶点
- **法线重计算**: 确保法线方向一致
- **材质优化**: 清理未使用的材质槽
- **UV保持**: 在优化过程中保持UV坐标完整性
- **LOD生成**: 支持不同细节层次的网格生成

### 技术特点
- 基于标准DCC插件接口规范
- 支持参数验证和错误处理
- 提供详细的处理报告和统计信息
- 可配置的优化参数
- 支持批量处理多个对象

## 安装方法

### 方法一：框架自动安装
1. 在DCC工具框架中搜索"BlenderMeshOptimizer"
2. 点击安装按钮
3. 插件将自动部署到正确位置

### 方法二：手动安装
1. 将`plugin.py`文件复制到Blender的`scripts/addons`目录
2. 在Blender中启用插件

## 使用方法

### 基础使用
1. 在Blender中选择要优化的网格对象
2. 运行插件
3. 设置优化参数：
   - **简化比例**: 控制网格简化的程度 (0.01-1.0)
   - **删除重复顶点**: 合并接近的顶点
   - **重新计算法线**: 确保法线一致性
   - **优化材质**: 清理未使用的材质
   - **保持UV**: 保留UV坐标信息

### 高级使用
```python
# 通过代码调用
optimizer = BlenderMeshOptimizer()
result = optimizer.execute(
    decimate_ratio=0.3,      # 30%简化
    remove_doubles=True,     # 删除重复顶点
    recalculate_normals=True, # 重新计算法线
    optimize_materials=True, # 优化材质
    output_path="/path/to/report.txt"  # 生成报告
)
```

## 参数说明

| 参数名 | 类型 | 默认值 | 范围 | 描述 |
|--------|------|--------|------|------|
| decimate_ratio | float | 0.5 | 0.01-1.0 | 网格简化比例 |
| remove_doubles | boolean | True | - | 删除重复顶点 |
| recalculate_normals | boolean | True | - | 重新计算法线 |
| optimize_materials | boolean | True | - | 优化材质 |
| preserve_uvs | boolean | True | - | 保持UV坐标 |
| output_path | string | "" | - | 输出报告路径 |

## 输出报告

插件会生成详细的处理报告，包含以下信息：
- 处理时间和对象数量
- 成功/失败统计
- 顶点和面数的变化
- 材质优化情况
- 性能指标

## 兼容性

- **Blender版本**: 3.0 - 4.2
- **操作系统**: Windows, macOS, Linux
- **Python版本**: 3.7+

## 性能提示

- 大型网格优化可能需要较长时间
- 建议在处理前备份原始文件
- 可以分批处理大量对象
- 简化比例越小，处理时间越长但质量越高

## 故障排除

### 常见问题
1. **插件无法加载**: 检查Blender版本兼容性
2. **优化无效果**: 确认选择了正确的网格对象
3. **UV丢失**: 确保启用了preserve_uvs选项
4. **性能慢**: 降低decimate_ratio或分批处理

### 日志查看
插件会在控制台输出详细的操作日志，可用于诊断问题。

## 开发信息

- **框架版本**: 遵循DCC工具框架v1.0标准
- **许可证**: MIT
- **维护者**: DCC Tool Framework Team
- **源码**: [GitHub仓库链接]

## 更新日志

### v1.0.0 (2024-02-13)
- 初始版本发布
- 实现基础网格优化功能
- 集成标准DCC插件接口
- 添加参数验证和错误处理