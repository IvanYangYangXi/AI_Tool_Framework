# DCC工具框架用户手册

> ⚠️ **文档状态说明**
> 
> 本文档为早期版本的用户手册，包含**原始规划功能的使用说明**。
> 
> 部分功能在当前版本中已简化或调整。
> 
> **当前版本使用指南请参考**：[美术人员使用指南](../美术人员使用指南.md)
> 
> 标注说明：
> - ✅ 可用 - 当前版本可使用
> - 📦 未实现 - 规划功能

---

## 🎯 框架概述

DCC工具框架是一个专业的数字内容创作工具管理平台，为DCC艺术家和技术人员提供统一的插件管理、脚本部署和工作流优化解决方案。

## 🚀 快速开始（当前版本）✅

### 1. 启动工具管理器
```bash
# 方式一：双击启动脚本
启动工具管理器.bat

# 方式二：命令行启动
python src/gui/lightweight_manager.py
```

### 2. 基本使用流程
1. 启动工具管理器
2. 选择目标DCC软件（Maya/Max/Blender/UE）
3. 从脚本列表中选择要执行的脚本
4. 点击"运行选中脚本"

---

## 📋 功能状态对照

### 当前可用功能 ✅

| 功能 | 说明 | 入口 |
|------|------|------|
| 轻量级管理器 | 可视化脚本管理界面 | `启动工具管理器.bat` |
| Maya脚本执行 | 通过端口7001连接Maya | 管理器界面 |
| Max脚本执行 | 通过端口7002连接Max | 管理器界面 |
| Blender脚本执行 | 通过端口7003连接Blender | 管理器界面 |
| 操作日志 | 实时显示执行结果 | 管理器界面 |

### 规划中功能 �

| 功能 | 原规划说明 | 状态 |
|------|------------|------|
| 脚本管理器 | 统一的脚本部署和版本控制 | 📦 未实现 |
| 用户配置系统 | 个性化设置和偏好管理 | 📦 未实现 |
| 插件依赖管理器 | 自动处理插件依赖关系 | 📦 未实现 |
| 插件市场 | 插件浏览、搜索和管理 | 📦 未实现 |
| 增强版GUI | 高级图形界面 | 📦 未实现 |

---

## 🎨 示例脚本使用 ✅

### 当前提供的示例脚本

所有DCC软件都提供了统一的示例脚本 `[示例] 打印选择`：

```
src/plugins/
├── dcc/
│   ├── maya/example_print_selection/      # Maya示例
│   ├── max/example_print_selection/       # 3ds Max示例
│   └── blender/example_print_selection/   # Blender示例
└── ue/example_print_selection/            # UE示例
```

### Maya中使用示例 ✅

```python
# Maya脚本编辑器中运行
import sys
sys.path.append(r"D:\MyProject_D\AI_Tool_Framework")
from src.plugins.dcc.maya.example_print_selection.plugin import PrintSelection

plugin = PrintSelection()
result = plugin.execute()
print(result)
```

---

## 📁 当前项目结构 ✅

```
DCC工具框架/
├── src/
│   ├── core/                    # 核心组件
│   │   ├── dcc_plugin_interface.py    # DCC插件接口
│   │   ├── ue_plugin_interface.py     # UE插件接口
│   │   ├── plugin_manager.py          # 插件管理器
│   │   ├── config_manager.py          # 配置管理器
│   │   ├── dynamic_loader.py          # 动态加载器
│   │   └── permission_system.py       # 权限系统
│   │
│   ├── plugins/                 # 插件目录
│   │   ├── dcc/                 # DCC工具插件
│   │   │   ├── maya/example_print_selection/
│   │   │   ├── max/example_print_selection/
│   │   │   └── blender/example_print_selection/
│   │   └── ue/example_print_selection/
│   │
│   └── gui/                     # 图形界面
│       └── lightweight_manager.py     # 轻量级管理器
│
├── 启动工具管理器.bat           # 启动脚本
└── README.md                    # 项目说明
```

---

## 🔧 开发者指南 ✅

### 创建新插件模板

```python
"""
新插件模板
"""
from typing import Dict, Any, List

# 插件元数据常量
PLUGIN_NAME = "MyNewPlugin"
PLUGIN_VERSION = "1.0.0"
PLUGIN_TYPE = "dcc"
PLUGIN_DESCRIPTION = "我的新插件描述"
PLUGIN_AUTHOR = "作者名"


class MyNewPlugin:
    """插件主类"""
    
    def __init__(self):
        self._connected = False
    
    def connect_to_dcc(self) -> bool:
        """连接到DCC"""
        pass
    
    def execute(self, **kwargs) -> Dict[str, Any]:
        """执行主功能"""
        return {"status": "success", "result": ...}
    
    def get_selection(self) -> List[str]:
        """获取当前选择"""
        return []
    
    def get_info(self) -> Dict[str, Any]:
        """获取插件信息"""
        return {
            "name": PLUGIN_NAME,
            "version": PLUGIN_VERSION,
            "description": PLUGIN_DESCRIPTION
        }
```

### 配置文件格式

```json
{
  "plugin": {
    "name": "插件名称",
    "version": "1.0.0",
    "description": "插件描述",
    "author": "作者",
    "type": "dcc",
    "target_dcc": "maya"
  }
}
```

---

## 🛠️ 故障排除 ✅

### 常见问题解决方案

1. **Maya连接失败**
   - 确认Maya已打开并启用了commandPort
   - 检查端口7001是否被占用
   - 使用管理器的"设置Maya连接"功能

2. **脚本找不到**
   - 确认脚本放在正确的插件目录下
   - 检查目录结构是否符合规范
   - 刷新脚本列表

3. **执行结果不显示**
   - 查看操作日志面板
   - 确认脚本中有print语句或返回值

---

## 📊 系统要求 ✅

- **操作系统**: Windows 10+
- **Python版本**: 3.7+
- **支持的DCC**:
  - Autodesk Maya 2022-2025
  - Autodesk 3ds Max 2021-2024
  - Blender 3.0-4.2
  - Unreal Engine 5.0-5.4

---

*本文档最后更新：2024年*
*当前版本使用指南请参考：[美术人员使用指南](../美术人员使用指南.md)*